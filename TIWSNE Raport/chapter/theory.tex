\chapter{Theory}
\label{chp:theory}

In this chapter the theory of the project will be described. This includes the compression, energy consumption and radio communication.

\section{Compression}
In general image compression is about the removal of data in order to minimize a file size. This can be done lossless or lossy, depending on the use and importance of the data.

\subsection{Lossy and lossless compression}
When using a lossless image compression, every bit information in the file remains when compressed, and it will be just like the original when decompressed. This technique is preferred when compressing spreadsheet or text files, as it can be useless, if some of the text i missing. It is also a more complex compression method so if high quality is not a factor, then a lossy compression is maybe preferred 

In the lossy compression, some data is permanently removed which reduces the size of the image file. This means that when the image is decompressed only a part of the original image is still there. It is not sure that the user will not notice the missing information, but it will cause a lower quality in the picture. This compression is widely used in video and sound where the quality can be reduced.  

\subsection{N-bit compression}
In this project three n-bit compressions has been used namely 1-bit, 2-bit and 4-bit compression. in figure \ref{fig:NbitCompression} an example of a 1-bit compression is shown. When it is compressed the least significant bit (LSB) is removed in every byte. This resulting in less data in the image. When it is decompressed, there is added a \emph{0} is added on the least significant bit in every byte, so the image get the same length. 

\myFigure{NbitCompression}{1-bit compression.}{fig:NbitCompression}{0.7}

The image with the compression will loose some details and will generally be in a lower quality than the original image during the lack of information the compression has cost. So if the quality of a picture needs to be hight, this is not the best compression to do.  

\section{Energy consumption}
When looking at wireless sensor networks, energy consumption is an important issue. When transferring data there is a consumption of energy, this can be affected by the size of the data being transferred. When transferring data between two TelosBs, the level of energy consumptions needs to be at your attention because the TelosB has a limited amount of battery capacity. The challenge is to know when and how to use the radio communication.

\section{New Energy consumption}
When talking about sensor nodes the energy supply is a crucial factor. Batteries that runs the sensor nodes has small capacity and recharging them can be difficult and complicated. Hence the energy consumption must be controlled in the best way, to keep a low energy consumption.
The main consumers of energy are:
\begin{itemize}
	\item[--] The controller
	\item[--] Radio front ends
	\item[--] To some degree the memory
	\item[--] The sensors, depending on the type
\end{itemize}
	 
To reduce the energy consumptions a low-power chip is preferred, but it is only one half of the picture. If the chip is used improperly it will consume as much energy as an non low-power chip.

Avoiding this can be accomplished by observation of the wireless sensor node, and make sure that it has nothing to do most of the time. This can be handled by use of the controller's different states. The typical states of a controller is:
\begin{itemize}
	\item[--] \textbf{\emph{active}:} Working 
	\item[--] \textbf{\emph{idle}}: Ready to communicate 
	\item[--] \textbf{\emph{sleep}}: Waiting.
\end{itemize}
Using states is a core technique to reduce the energy consumption in wireless sensor nodes. Some sensors also uses \emph{deeper sleep} to save even more energy. When working with deeper sleep, it has to be taken into account that it takes more time and energy to make the controller wake up and be fully operational again.

Another way of controlling the energy consumption intead of states, is to scale the voltage as required. This can be done by using the full power of the microcontroller and get the task done as fast as possible, and go back to low energy consumption again. By doing this the task is done as fast as possible, and the high energy consumption is active in a limited time only. This may not be the most energy effecient approach, as the task may be computed at a low energy level. By using Dynamic Voltage Scaling(DVS) a task will be computed only at the speed needed of the task, to get it done before a given deadline.

 
\section{Radio communication}